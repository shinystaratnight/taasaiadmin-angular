<div class="row page-tilte align-items-center">

  <div class="col-md-auto">
    <a href="#" class="mt-3 d-md-none float-right toggle-controls"><span
      class="material-icons">keyboard_arrow_down</span></a>
    <h1 class="weight-300 h3 title">{{company_name}} - <h1 class="weight-300 h3 title" translate>add_driver_title</h1>
    </h1>
    <p class="text-muted m-0 desc"></p>
  </div>

</div>
<div class="content">

  <div class="row">
    <div class="col-lg-12 ">
      <div class="card mb-4">
        <div class="card-header" translate>add_driver_details</div>
        <div class="card-body">
          <form [formGroup]="driverForm">
            <div class="form-group">
              <label for="operator_id" translate>add_driver_operator</label>
              <select class="form-control" formControlName="operator_id" id="operator_id" name="operator_id"
                      [(ngModel)]="operator_id" [ngClass]="{'is-invalid': submitted && f.operator_id.errors}">
                <option [ngValue]="undefined" disabled selected>Select Operator</option>
                <option *ngFor="let item of operators" value="{{item.ID}}">{{item.Name}}</option>
              </select>
              <div *ngIf="submitted && f.vehicle_type_id.errors" class="invalid-feedback">
                <div *ngIf="f.vehicle_type_id.errors.required" translate>add_driver_operator_required</div>
              </div>
            </div>

            <div class="form-group">
              <label for="name" translate>add_driver_name</label>
              <input type="text" formControlName="name" placeholder="Enter Driver Name" id="name" name="name"
                     [(ngModel)]="name" class="form-control" [ngClass]="{'is-invalid': submitted && f.name.errors}"
                     autocomplete="off">
              <div *ngIf="submitted && f.name.errors" class="invalid-feedback">
                <div *ngIf="f.name.errors.required" translate>add_driver_name_required</div>
              </div>
            </div>

            <div class="form-group">
              <label for="name" translate>add_driver_mobile<br></label>
              <ngx-intl-tel-input
                [cssClass]="'custom'"
                [preferredCountries]="['us', 'gb']"
                [enablePlaceholder]="true"
                [enableAutoCountrySelect]="true"
                formControlName="mobile_number"
                [(ngModel)]="mobile_number"
                name="mobile_number" [ngClass]="{'is-invalid': submitted && f.mobile_number.errors}"
              ></ngx-intl-tel-input>

              <!--input type="text" formControlName="mobile_number" placeholder="Enter 10 Digit Mobile Number" name="mobile_number" [(ngModel)]="mobile_number"  class="form-control" [ngClass]="{'is-invalid': submitted && f.mobile_number.errors}"-->
              <div *ngIf="submitted && f.mobile_number.errors" class="invalid-feedback">
                <div *ngIf="f.mobile_number.errors.required">add_driver_mobile_required</div>
              </div>

            </div>

            <!--            <div class="form-group">-->
            <!--              <label for="location_id" translate>add_driver_location</label>-->
            <!--              <select class="form-control" formControlName="location_id" id="location_id" name="location_id"-->
            <!--                      [(ngModel)]="location_id" [ngClass]="{'is-invalid': submitted && f.location_id.errors}">-->
            <!--                <option [ngValue]="undefined" disabled selected>Select Location</option>-->
            <!--                <option *ngFor="let location of locationList" value="{{location.ID}}">{{location.Name}}</option>-->
            <!--              </select>-->
            <!--              <div *ngIf="submitted && f.location_id.errors" class="invalid-feedback">-->
            <!--                <div *ngIf="f.location_id.errors.required" translate>add_driver_location_required</div>-->
            <!--              </div>-->
            <!--            </div>-->

            <div class="form-group">
              <label for="license_number" translate>add_driver_license</label>
              <input type="text" formControlName="license_number" placeholder="Enter License Number" id="license_number"
                     name="license_number" [(ngModel)]="license_number" class="form-control"
                     [ngClass]="{'is-invalid': submitted && f.license_number.errors}" autocomplete="off">
              <div *ngIf="submitted && f.license_number.errors" class="invalid-feedback">
                <div *ngIf="f.license_number.errors.required" translate>add_driver_license_required</div>
              </div>
            </div>

            <div class="form-group">
              <label for="vehicle_name" translate>add_driver_vehicle_name</label>
              <input type="text" formControlName="vehicle_name" placeholder="Enter Vehicle Name" id="vehicle_name"
                     name="vehicle_name" [(ngModel)]="vehicle_name" class="form-control"
                     [ngClass]="{'is-invalid': submitted && f.vehicle_name.errors}" autocomplete="off">
              <div *ngIf="submitted && f.vehicle_name.errors" class="invalid-feedback">
                <div *ngIf="f.vehicle_name.errors.required" translate>add_driver_vehicle_name_required</div>
              </div>
            </div>

            <div class="form-group">
              <label for="vehicle_type_id" translate>add_driver_vehicle_type</label>
              <select class="form-control" formControlName="vehicle_type_id" id="vehicle_type_id" name="vehicle_type_id"
                      [(ngModel)]="vehicle_type_id" [ngClass]="{'is-invalid': submitted && f.vehicle_type_id.errors}">
                <option [ngValue]="undefined" disabled selected>Select Vehicle Type</option>
                <option *ngFor="let item of vehicle_types" value="{{item.ID}}">{{item.Name}}</option>
              </select>
              <div *ngIf="submitted && f.vehicle_type_id.errors" class="invalid-feedback">
                <div *ngIf="f.vehicle_type_id.errors.required" translate>add_driver_vehicle_type_required</div>
              </div>
            </div>

            <div class="form-group">
              <label for="vehicle_brand" translate>add_driver_vehicle_brand</label>
              <input type="text" formControlName="vehicle_brand" placeholder="Enter Vehicle Brand" id="vehicle_brand"
                     name="vehicle_brand" [(ngModel)]="vehicle_brand" class="form-control"
                     [ngClass]="{'is-invalid': submitted && f.vehicle_brand.errors}" autocomplete="off">
              <div *ngIf="submitted && f.vehicle_brand.errors" class="invalid-feedback">
                <div *ngIf="f.vehicle_brand.errors.required" translate>add_driver_vehicle_brand_required</div>
              </div>
            </div>

            <div class="form-group">
              <label for="vehicle_model" translate>add_driver_vehicle_model</label>
              <input type="text" formControlName="vehicle_model" placeholder="Enter Vehicle Model" id="vehicle_model"
                     name="license_number" [(ngModel)]="vehicle_model" class="form-control"
                     [ngClass]="{'is-invalid': submitted && f.vehicle_model.errors}" autocomplete="off">
              <div *ngIf="submitted && f.vehicle_model.errors" class="invalid-feedback">
                <div *ngIf="f.vehicle_model.errors.required" translate>add_driver_vehicle_model_required</div>
              </div>
            </div>

            <div class="form-group">
              <label for="vehicle_color" translate>add_driver_vehicle_color</label>
              <input type="text" formControlName="vehicle_color" placeholder="Enter Vehicle Color" id="vehicle_color"
                     name="vehicle_color" [(ngModel)]="vehicle_color" class="form-control"
                     [ngClass]="{'is-invalid': submitted && f.vehicle_color.errors}" autocomplete="off">
              <div *ngIf="submitted && f.vehicle_color.errors" class="invalid-feedback">
                <div *ngIf="f.vehicle_color.errors.required" translate>add_driver_vehicle_color_required</div>
              </div>
            </div>

            <div class="form-group">
              <label for="vehicle_number" translate>add_driver_vehicle_number</label>
              <input type="text" formControlName="vehicle_number" placeholder="Enter Vehicle Number" id="vehicle_number"
                     name="vehicle_number" [(ngModel)]="vehicle_number" class="form-control"
                     [ngClass]="{'is-invalid': submitted && f.vehicle_number.errors}" autocomplete="off">
              <div *ngIf="submitted && f.vehicle_number.errors" class="invalid-feedback">
                <div *ngIf="f.vehicle_number.errors.required" translate>add_driver_vehicle_number_required</div>
              </div>
            </div>

            <div *ngIf="!!id" class="form-check mb-3">
              <input type="checkbox" class="form-check-input" id="enableImages" formGroupName="enableImages" [(ngModel)]="enableImages" [ngModelOptions]="{standalone: true}">
              <label class="form-check-label" for="enableImages">Edit Images</label>
            </div>

            <div *ngIf="!id || enableImages" class="form-group">
              <label for="name" translate>add_driver_vehicle_image</label>
              <div class="custom-file mb-4">
                <input type="file" formControlName="vehicle_image" id="vehicle_image"
                       (change)="vehicleImage($event.target.files)" class="form-control custom-file-input"
                       [ngClass]="{'is-invalid': submitted && f.vehicle_image.errors}"
                       accept="image/x-png, image/gif, image/jpeg">
                <label class="custom-file-label" for="vehicle_image"><small>{{vehicle_image}}</small></label>
                <div *ngIf="submitted && f.vehicle_image.errors" class="invalid-feedback">
                  <div *ngIf="f.vehicle_image.errors.required" translate>add_driver_vehicle_image_required</div>
                </div>
              </div>
            </div>

            <div *ngIf="!id || enableImages" class="form-group">
              <label for="name" translate>add_driver_driver_image</label>
              <div class="custom-file mb-4">
                <input type="file" formControlName="driver_image" id="driver_image"
                       (change)="driverImage($event.target.files)" class="form-control custom-file-input"
                       [ngClass]="{'is-invalid': submitted && f.driver_image.errors}"
                       accept="image/x-png, image/gif, image/jpeg">
                <label class="custom-file-label" for="driver_image"><small>{{driver_image}}</small></label>
                <div *ngIf="submitted && f.driver_image.errors" class="invalid-feedback">
                  <div *ngIf="f.driver_image.errors.required" translate>add_driver_driver_image_required</div>
                </div>
              </div>
            </div>

            <div class="form-group">
              <span><button (click)="onSubmit()" class="btn btn-primary" translate>add_driver_submit</button></span>
              <span style="margin-left: 20px;"><button (click)="onCancel()" class="btn btn-danger" translate>add_driver_Cancel</button></span>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>